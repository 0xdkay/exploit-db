!#/usr/bin/ruby
require 'rubygems'
require 'mechanize'

agent = Mechanize.new 
a = agent.get "http://www.exploit-db.com"
exploits = a.search("//td[@class='list_explot_description']//a")
date = a.search("//td[@class='list_explot_date']").map {|v| "#{$1}년 #{$2}월 #{$3}일" if v.text =~ /(\d+)-(\d+)-(\d+)/}
cats = a.search("//h2[@class='homepage_cat_title']//a")
(cats.size).times do |i|
	puts "--------- #{cats[i].text} -------------"
	7.times do |j|
		puts "#{date[i*7+j]}  #{exploits[i*7+j].text}   (#{exploits[i*7+j]["href"]})"
	end
	puts "------------------------------------"
end
